var n=Object.defineProperty;var a=(h,i,e)=>i in h?n(h,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[i]=e;var o=(h,i,e)=>(a(h,typeof i!="symbol"?i+"":i,e),e);import{C as c}from"./Canvas-92313062.js";import{d as x,r,f as l,g as d,o as f,c as p,a as w}from"./main-83905d88.js";class g extends c{constructor(e){super({...e,isSetOrigin:!0});o(this,"space",50);o(this,"speed",1);o(this,"fontSize",16);o(this,"left",{v:1,start:{x:0,y:0},end:{x:0,y:0}});o(this,"right",{v:-1,start:{x:0,y:0},end:{x:0,y:0}});o(this,"status","init");this.draw()}draw(){this.context&&(this.clear(),this.resize(),this.reset(),this.drawGrid(),this.drawAxes(),this.drawOrigin(),this.drawCoordinates(),this.status="draw",this.loop())}reset(){this.right={v:-1,start:{x:0,y:0},end:{x:0,y:0}},this.left={v:1,start:{x:0,y:0},end:{x:0,y:0}}}redraw(){this.status="resize",this.draw()}drawGrid(){if(this.context){const e=Math.floor(this.halfWidth/this.space),s=Math.floor(this.halfHeight/this.space);this.context.strokeStyle="rgba(0, 0, 255, 1)",this.context.lineWidth=2;for(let t=0;t<=e;t++)this.context.beginPath(),this.context.moveTo(t*this.space,0),this.context.lineTo(t*this.space,-this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(t*this.space,0),this.context.lineTo(t*this.space,this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(-t*this.space,0),this.context.lineTo(-t*this.space,-this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(-t*this.space,0),this.context.lineTo(-t*this.space,this.halfHeight),this.context.stroke();for(let t=0;t<=s;t++)this.context.beginPath(),this.context.moveTo(0,t*this.space),this.context.lineTo(this.halfWidth,t*this.space),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,-t*this.space),this.context.lineTo(this.halfWidth,-t*this.space),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,t*this.space),this.context.lineTo(-this.halfWidth,t*this.space),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,-t*this.space),this.context.lineTo(-this.halfWidth,-t*this.space),this.context.stroke()}}drawAxes(){this.context&&(this.context.shadowColor="rgba(0, 255, 0, 0.75)",this.context.shadowBlur=20,this.context.strokeStyle="rgba(0, 255, 0, 1)",this.context.lineWidth=4,this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(this.halfWidth,0),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(-this.halfWidth,0),this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.halfWidth,0),this.context.lineTo(this.halfWidth-8,-4),this.context.lineTo(this.halfWidth-8,4),this.context.closePath(),this.context.stroke(),this.context.fillStyle="rgba(0, 255, 0, 0.75)",this.context.fill(),this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(0,-this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(0,this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,-this.halfHeight),this.context.lineTo(4,-this.halfHeight+8),this.context.lineTo(-4,-this.halfHeight+8),this.context.closePath(),this.context.stroke(),this.context.fillStyle="rgba(0, 255, 0, 0.75)",this.context.fill())}loop(){this.status==="draw"?(this.drawLine(this.right),this.drawLine(this.left),this.requestAnimation(()=>this.loop())):this.status==="end"&&(this.status="redraw",this.draw())}drawLine(e){this.context&&((e.end.x>this.halfWidth||e.end.x<-this.halfWidth)&&(this.status="end"),e.end.x+=e.v*this.speed,e.end.y=-Math.sin(e.end.x/(this.space*2)*Math.PI)*this.space,this.context.beginPath(),this.context.moveTo(e.start.x,e.start.y),this.context.lineTo(e.end.x,e.end.y),this.context.shadowColor="rgba(255, 0, 0, 0.05)",this.context.shadowBlur=20,this.context.strokeStyle="rgba(255, 0, 0, 1)",this.context.lineWidth=2,this.context.lineCap="round",this.context.stroke(),e.start.x=e.end.x,e.start.y=e.end.y)}drawOrigin(){this.context&&(this.context.beginPath(),this.context.shadowBlur=0,this.context.arc(0,0,4,0,2*Math.PI),this.context.fillStyle="rgba(255, 0, 0, 1)",this.context.fill())}drawCoordinates(){if(!this.context)return;const e=Math.floor(this.halfWidth/this.space),s=Math.floor(this.halfHeight/this.space);for(let t=1;t<=e;t++)t%2===0?(this.drawText(`${t}π`,this.space*t,this.fontSize*2),this.drawText(`-${t}π`,-this.space*t,this.fontSize*2)):(this.drawText(`${t}π`,this.space*t,this.fontSize),this.drawText("—",this.space*t,this.fontSize*2),this.drawText("2",this.space*t,this.fontSize*3)),t%2===0?this.drawText(`-${t}π`,-this.space*t,this.fontSize*2):(this.drawText(`${t}π`,-this.space*t,this.fontSize),this.drawText("-",-(this.space*t+this.fontSize),this.fontSize*2),this.drawText("—",-this.space*t,this.fontSize*2),this.drawText("2",-this.space*t,this.fontSize*3));for(let t=1;t<=s;t++)this.drawText(`${t}`,-this.fontSize,this.space*t),this.drawText(`${t}`,-this.fontSize,-this.space*t)}drawText(e,s,t){this.context&&(this.context.font=`bold ${this.fontSize}px sans-serif`,this.context.textAlign="center",this.context.textBaseline="middle",this.context.fillStyle="rgba(255, 255, 0, 1)",this.context.fillText(e,s,t))}}const T={class:"w-full h-full overflow-hidden"},m=w("canvas",{id:"sin-canvas",class:"w-full h-full bg-black"},null,-1),b=[m],v=x({__name:"sin",setup(h){const i=r(void 0);return l(()=>{i.value=new g({id:"sin-canvas"})||void 0,window.addEventListener("resize",()=>{var e;(e=i.value)==null||e.redraw()})}),d(()=>{var e;(e=i.value)==null||e.destroy(),window.removeEventListener("resize",()=>{var s;(s=i.value)==null||s.redraw()})}),(e,s)=>(f(),p("div",T,b))}});export{v as default};
