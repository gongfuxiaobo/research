var n=Object.defineProperty;var a=(e,t,s)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var i=(e,t,s)=>(a(e,typeof t!="symbol"?t+"":t,s),s);import{d as r,r as o,f as c,g as d,o as x,c as l,a as u}from"./index-81f40cde.js";class f{constructor(t){i(this,"id");i(this,"canvas");i(this,"context");i(this,"width",0);i(this,"height",0);i(this,"animation");i(this,"start",{x:0,y:500});i(this,"end",{x:0,y:500});i(this,"current",{x:0,y:500});i(this,"a",5);i(this,"k",0);i(this,"b",0);i(this,"t",60);i(this,"c",500);i(this,"status","init");this.id=t,this.init()}init(){var t;this.id&&(this.canvas=document.getElementById(this.id)||void 0,this.canvas&&(this.context=((t=this.canvas)==null?void 0:t.getContext("2d"))||void 0,this.context&&(this.width=window.innerWidth||0,this.height=window.innerHeight||0,this.canvas.width=this.width,this.canvas.height=this.height,this.status="start",this.draw())))}clear(){this.context&&this.context.clearRect(0,0,this.width,this.height)}destroy(){this.animation&&(cancelAnimationFrame(this.animation),this.animation=void 0),this.canvas&&(this.canvas.width=0,this.canvas.height=0,this.canvas=void 0,this.context=void 0)}draw(){this.context&&this.loop()}loop(){if(this.setPoint(),this.drawLine(),this.status==="end"){this.status="start";return}this.animation=requestAnimationFrame(()=>this.loop())}drawLine(){this.context&&(this.context.fillStyle="rgba(0, 0, 0, 0.05)",this.context.fillRect(0,0,this.width,this.height),this.context.beginPath(),this.context.moveTo(this.start.x,this.start.y),this.context.lineTo(this.current.x,this.current.y),this.context.strokeStyle="#00ff00",this.context.lineWidth=2,this.context.shadowColor="rgba(0, 0, 0, 0.5)",this.context.shadowBlur=10,this.context.shadowOffsetX=5,this.context.shadowOffsetY=5,this.context.stroke())}setLine(){this.k=this.end.x-this.start.x?(this.end.y-this.start.y)/(this.end.x-this.start.x):0,this.b=this.start.y-this.k*this.start.x}setPoint(){var t;if(this.current.x>=this.width){this.start={x:0,y:this.c},this.end={x:0,y:this.c},this.current={x:0,y:this.c},(t=this.context)==null||t.clearRect(0,0,this.width,this.height);return}this.current.x>=this.end.x?(Math.random()<.5?(this.end.x+=this.a,this.t=Math.floor(Math.random()*61+60),this.end.y=this.end.y>this.c?this.c-this.t:this.c+this.t):(this.end.x+=this.a*Math.floor(Math.random()*10+1),this.end.y=this.c),this.setLine()):(this.start.x=this.current.x,this.start.y=this.current.y,this.current.x=this.current.x+this.a,this.current.y=this.k*this.current.x+this.b)}}const v={class:"w-full h-full overflow-hidden"},w=u("canvas",{id:"heart-beat-canvas",class:"w-full h-full bg-black"},null,-1),m=[w],_=r({__name:"heartBeat",setup(e){const t=o(void 0);return c(()=>{t.value=new f("heart-beat-canvas")||void 0,window.addEventListener("resize",()=>{var s;(s=t.value)==null||s.init()})}),d(()=>{var s;(s=t.value)==null||s.destroy(),window.removeEventListener("resize",()=>{var h;(h=t.value)==null||h.init()})}),(s,h)=>(x(),l("div",v,m))}});export{_ as default};
