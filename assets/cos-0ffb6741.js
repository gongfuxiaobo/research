var n=Object.defineProperty;var a=(h,e,s)=>e in h?n(h,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[e]=s;var o=(h,e,s)=>(a(h,typeof e!="symbol"?e+"":e,s),s);import{C as c}from"./Canvas-92313062.js";import{d as x,r,f as l,g as d,o as f,c as p,a as w}from"./index-64a5771e.js";class g extends c{constructor(s){super({...s,isSetOrigin:!0});o(this,"space",50);o(this,"speed",1);o(this,"fontSize",16);o(this,"left",{v:1,start:{x:0,y:0},end:{x:0,y:0}});o(this,"right",{v:-1,start:{x:0,y:0},end:{x:0,y:0}});o(this,"status","init");this.draw()}draw(){this.context&&(this.clear(),this.resize(),this.reset(),this.drawGrid(),this.drawAxes(),this.drawOrigin(),this.drawCoordinates(),this.status="draw",this.loop())}reset(){this.right={v:-1,start:{x:0,y:-this.space},end:{x:0,y:0}},this.left={v:1,start:{x:0,y:-this.space},end:{x:0,y:0}}}redraw(){this.status="resize",this.draw()}drawGrid(){if(this.context){const s=Math.floor(this.halfWidth/this.space),i=Math.floor(this.halfHeight/this.space);this.context.strokeStyle="rgba(0, 0, 255, 1)",this.context.lineWidth=2;for(let t=0;t<=s;t++)this.context.beginPath(),this.context.moveTo(t*this.space,0),this.context.lineTo(t*this.space,-this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(t*this.space,0),this.context.lineTo(t*this.space,this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(-t*this.space,0),this.context.lineTo(-t*this.space,-this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(-t*this.space,0),this.context.lineTo(-t*this.space,this.halfHeight),this.context.stroke();for(let t=0;t<=i;t++)this.context.beginPath(),this.context.moveTo(0,t*this.space),this.context.lineTo(this.halfWidth,t*this.space),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,-t*this.space),this.context.lineTo(this.halfWidth,-t*this.space),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,t*this.space),this.context.lineTo(-this.halfWidth,t*this.space),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,-t*this.space),this.context.lineTo(-this.halfWidth,-t*this.space),this.context.stroke()}}drawAxes(){this.context&&(this.context.shadowColor="rgba(0, 255, 0, 0.75)",this.context.shadowBlur=20,this.context.strokeStyle="rgba(0, 255, 0, 1)",this.context.lineWidth=4,this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(this.halfWidth,0),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(-this.halfWidth,0),this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.halfWidth,0),this.context.lineTo(this.halfWidth-8,-4),this.context.lineTo(this.halfWidth-8,4),this.context.closePath(),this.context.stroke(),this.context.fillStyle="rgba(0, 255, 0, 0.75)",this.context.fill(),this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(0,-this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(0,this.halfHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(0,-this.halfHeight),this.context.lineTo(4,-this.halfHeight+8),this.context.lineTo(-4,-this.halfHeight+8),this.context.closePath(),this.context.stroke(),this.context.fillStyle="rgba(0, 255, 0, 0.75)",this.context.fill())}loop(){this.status==="draw"?(this.drawLine(this.right),this.drawLine(this.left),this.requestAnimation(()=>this.loop())):this.status==="end"&&(this.status="redraw",this.draw())}drawLine(s){this.context&&((s.end.x>this.halfWidth||s.end.x<-this.halfWidth)&&(this.status="end"),s.end.x+=s.v*this.speed,s.end.y=-Math.cos(s.end.x/(this.space*2)*Math.PI)*this.space,this.context.beginPath(),this.context.moveTo(s.start.x,s.start.y),this.context.lineTo(s.end.x,s.end.y),this.context.shadowColor="rgba(255, 0, 0, 0.05)",this.context.shadowBlur=20,this.context.strokeStyle="rgba(255, 0, 0, 1)",this.context.lineWidth=2,this.context.lineCap="round",this.context.stroke(),s.start.x=s.end.x,s.start.y=s.end.y)}drawOrigin(){this.context&&(this.context.beginPath(),this.context.shadowBlur=0,this.context.arc(0,0,4,0,2*Math.PI),this.context.fillStyle="rgba(255, 0, 0, 1)",this.context.fill())}drawCoordinates(){if(!this.context)return;const s=Math.floor(this.halfWidth/this.space),i=Math.floor(this.halfHeight/this.space);for(let t=1;t<=s;t++)t%2===0?(this.drawText(`${t}π`,this.space*t,this.fontSize*2),this.drawText(`-${t}π`,-this.space*t,this.fontSize*2)):(this.drawText(`${t}π`,this.space*t,this.fontSize),this.drawText("—",this.space*t,this.fontSize*2),this.drawText("2",this.space*t,this.fontSize*3)),t%2===0?this.drawText(`-${t}π`,-this.space*t,this.fontSize*2):(this.drawText(`${t}π`,-this.space*t,this.fontSize),this.drawText("-",-(this.space*t+this.fontSize),this.fontSize*2),this.drawText("—",-this.space*t,this.fontSize*2),this.drawText("2",-this.space*t,this.fontSize*3));for(let t=1;t<=i;t++)this.drawText(`${t}`,-this.fontSize,this.space*t),this.drawText(`${t}`,-this.fontSize,-this.space*t)}drawText(s,i,t){this.context&&(this.context.font=`bold ${this.fontSize}px sans-serif`,this.context.textAlign="center",this.context.textBaseline="middle",this.context.fillStyle="rgba(255, 255, 0, 1)",this.context.fillText(s,i,t))}}const T={class:"w-full h-full overflow-hidden"},m=w("canvas",{id:"cos-canvas",class:"w-full h-full bg-black"},null,-1),b=[m],S=x({__name:"cos",setup(h){const e=r(void 0);return l(()=>{e.value=new g({id:"cos-canvas"})||void 0,window.addEventListener("resize",()=>{var s;(s=e.value)==null||s.redraw()})}),d(()=>{var s;(s=e.value)==null||s.destroy(),window.removeEventListener("resize",()=>{var i;(i=e.value)==null||i.redraw()})}),(s,i)=>(f(),p("div",T,b))}});export{S as default};
